<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShopSmart</title>
    
    {% include "head-boilerplate.html" %}
</head>
<body>
    <header>
        {% include "navbar.html" %}
    </header>

    <div class="container">
        <div class="row py-3">
            <div class="col-md-2 text-start">
                <h2>Filter</h2>
            </div>
            <div class="col-md-2 text-end">
                <div class="dropdown">
                    <button class="btn btn-success dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">Select...</button>
                    <ul class="dropdown-menu">
                        {% for category in categories %}
                            <li><a href="{{ url_for('home', username=request.args['username'], password=request.args['password'], category=category[0]) }}" class="dropdown-item">{{ category[0] }}</a></li>  
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>    

    <div class="container w-100">
        <div class="row border-bottom py-3 align-items-center text-bg-success rounded-4">
            <div class="col-md-5">
                <h1>Description</h1>
            </div>
            <div class="col-md-3">
                <h1>Category</h1>
            </div>
            <div class="col-md-1"></div>
            <div class="col-md-2 text-end">
                <h1>Price</h1>
            </div>
            <div class="col-md-1 text-end"></div>
        </div>

        {% if products %}
            {% for product in products %}
            <div class="row border-bottom py-3 align-items-center">
                <div class="col-md-5 border-end">
                    <h1>{{ product[0] }}</h1>
                </div>
                <div class="col-md-3 border-end">
                    <h1>{{ product[1] }}</h1>
                </div>
                <div class="col-md-1"></div>
                <div class="col-md-2 text-end">
                    <h1>${{ product[2] }}</h1>
                </div>
                <div class="col-md-1 text-end">
                    <button class="btn btn-warning"><img src="../static/img/cart-plus-solid.svg" width="40" height="40" alt=""></button>
                </div>    
            </div>
            {% endfor %}
        {% else %}
            <div class="row py-3 align-items-center">
                <h1>Sorry, there are no products in the {{ request.args['category'] }} category</h1>
            </div>
        {% endif %}
    </div>
</body>

<!-- Bootstrap JS for dropdown menus -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.min.js" integrity="sha384-VQqxDN0EQCkWoxt/0vsQvZswzTHUVOImccYmSyhJTp7kGtPed0Qcx8rK9h9YEgx+" crossorigin="anonymous"></script>

</html>